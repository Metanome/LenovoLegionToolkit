<wpfui:UiPage
    x:Class="LenovoLegionToolkit.WPF.Pages.LampArrayRGBKeyboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:LenovoLegionToolkit.WPF.Controls"
    xmlns:custom="clr-namespace:LenovoLegionToolkit.WPF.Controls.Custom"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:lamp="clr-namespace:LenovoLegionToolkit.WPF.Controls.LampArray"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:resources="clr-namespace:LenovoLegionToolkit.WPF.Resources"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="LampArray Debug"
    d:DesignHeight="1000"
    d:DesignWidth="1000"
    Scrollable="True"
    mc:Ignorable="d">

    <Grid
        Background="Transparent"
        MouseLeftButtonDown="PreviewGrid_MouseDown"
        MouseLeftButtonUp="PreviewGrid_MouseUp"
        MouseMove="PreviewGrid_MouseMove">

        <TextBlock
            Margin="0,16,0,24"
            Focusable="True"
            FontSize="24"
            FontWeight="Medium"
            Text="{x:Static resources:Resource.KeyboardBacklightPage_Title}" />

        <StackPanel Margin="0,60,8,0">
            <custom:CardControl Margin="0,0,0,24" Icon="Settings24">
                <custom:CardControl.Header>
                    <controls:CardHeaderControl Title="{x:Static resources:Resource.Settings}" />
                </custom:CardControl.Header>
                <StackPanel>
                    <Grid Margin="0,0,0,8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="200" />
                            <ColumnDefinition Width="50" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Brightness}" />
                        <Slider
                            Grid.Column="1"
                            Maximum="100"
                            Minimum="0"
                            ValueChanged="BrightnessSlider_ValueChanged"
                            Value="50" />
                        <TextBlock
                            x:Name="_brightnessValue"
                            Grid.Column="2"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Text="50%" />
                    </Grid>

                    <Grid Margin="0,0,0,8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="200" />
                            <ColumnDefinition Width="50" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Speed}" />
                        <Slider
                            x:Name="_speedSlider"
                            Grid.Column="1"
                            Maximum="200"
                            Minimum="0"
                            ValueChanged="SpeedSlider_ValueChanged"
                            Value="100" />
                        <TextBlock
                            x:Name="_speedValue"
                            Grid.Column="2"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Text="100%" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Stretch" Text="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Smooth_Transition}" />
                        <CheckBox
                            x:Name="_smoothTransitionCheckBox"
                            Grid.Column="1"
                            Checked="SmoothTransition_Changed"
                            IsChecked="True"
                            Unchecked="SmoothTransition_Changed" />
                    </Grid>
                </StackPanel>
            </custom:CardControl>

            <Border
                Margin="0,0,0,24"
                Padding="24"
                Background="{DynamicResource ControlAltFillColorSecondaryBrush}"
                BorderBrush="{DynamicResource ControlElevationBorderBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Focusable="False">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Viewbox
                        Grid.Column="0"
                        MaxHeight="600"
                        Stretch="Uniform">
                        <Grid x:Name="_previewGrid">
                            <lamp:LampArrayKeyboardControl
                                x:Name="_visualKeyboard"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />

                            <lamp:LampArrayRearAmbientControl
                                x:Name="_rearAmbientLight"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />

                            <lamp:LampArrayAftAmbientControl
                                x:Name="_aftAmbientLight"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                        </Grid>
                    </Viewbox>

                    <StackPanel
                        Grid.Column="1"
                        Margin="24,0,0,0"
                        VerticalAlignment="Center">
                        <TextBlock FontWeight="SemiBold" Text="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Target_Zone}" />
                        <ComboBox
                            x:Name="_zoneSelect"
                            Width="160"
                            Margin="0,8,0,0"
                            SelectionChanged="ZoneSelect_SelectionChanged">
                            <ComboBoxItem x:Name="_cbiKeyboard" Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Keyboard}" />
                            <ComboBoxItem x:Name="_cbiRear" Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Rear_Ambient}" />
                            <ComboBoxItem x:Name="_cbiAft" Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Aft_Ambient}" />
                        </ComboBox>

                        <TextBlock
                            Margin="0,24,0,8"
                            FontWeight="SemiBold"
                            Text="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Selection}" />
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Button
                                Margin="0,0,4,0"
                                Click="SelectAll_Click"
                                Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_All}" />
                            <Button
                                Grid.Column="1"
                                Margin="4,0,0,0"
                                Click="DeselectAll_Click"
                                Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_None}" />
                        </Grid>
                    </StackPanel>
                </Grid>
            </Border>

            <custom:CardControl Margin="0,0,0,24" Icon="ColorFill24">
                <custom:CardControl.Header>
                    <controls:CardHeaderControl Title="Effects" />
                </custom:CardControl.Header>
                <StackPanel>
                    <TextBlock
                        x:Name="_selectionSummary"
                        Margin="0,0,0,8"
                        Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                        Text="{x:Static resources:Resource.LampArrayRGBKeyboardPage_No_Selection}" />

                    <Grid Margin="0,0,0,16">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Effect}" />
                        <ComboBox
                            x:Name="_effectSelect"
                            Grid.Column="1"
                            Width="200"
                            SelectionChanged="EffectSelect_SelectionChanged">
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Static}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Breathe}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Wave}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Rainbow}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Meteor}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Ripple}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Sparkle}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Gradient}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Custom}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Rainbow_Wave}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Spiral_Rainbow}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Aurora_Sync}" />
                        </ComboBox>
                    </Grid>

                    <Grid
                        x:Name="_directionPanel"
                        Margin="0,0,0,16"
                        Visibility="Collapsed">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Direction}" />
                        <ComboBox
                            x:Name="_directionSelect"
                            Grid.Column="1"
                            Width="200"
                            SelectionChanged="EffectSelect_SelectionChanged">
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Left_to_Right}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Right_to_Left}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Top_to_Bottom}" />
                            <ComboBoxItem Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Bottom_to_Top}" />
                        </ComboBox>
                    </Grid>

                    <StackPanel x:Name="_customModePanel" Orientation="Horizontal">
                        <controls:ColorPickerControl x:Name="_colorPicker" />
                        <Button
                            Margin="10,0,0,0"
                            Click="ClearCustomColors_Click"
                            Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Clear_Colors}" />
                        <Button
                            x:Name="_probeBtn"
                            Margin="10,0,0,0"
                            Click="ProbeLamps_Click"
                            Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Probe_Indices}" />
                        <Button
                            Margin="10,0,0,0"
                            Click="ExportProfile_Click"
                            Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Export_Profile}" />
                        <Button
                            Margin="10,0,0,0"
                            Click="ImportProfile_Click"
                            Content="{x:Static resources:Resource.LampArrayRGBKeyboardPage_Import_Profile}" />
                    </StackPanel>
                </StackPanel>
            </custom:CardControl>
        </StackPanel>

        <Canvas x:Name="_selectionCanvas" IsHitTestVisible="False">
            <Rectangle
                x:Name="_selectionRect"
                Fill="{DynamicResource SystemAccentColorBrush}"
                Opacity="0.4"
                Stroke="{DynamicResource SystemAccentColorBrush}"
                StrokeThickness="2"
                Visibility="Collapsed" />
        </Canvas>
    </Grid>
</wpfui:UiPage>